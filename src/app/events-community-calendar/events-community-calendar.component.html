<main>
  <div class="calendar-container mt-5">
    <div class="calendar-space">
      <div class="navigation">
        <button (click)="prevMonth()" class="btn btn-light">
          <i class="bi bi-arrow-left"></i>
        </button>
        <span class="mx-3 h4">{{ calendarMonth.monthName }} - {{ calendarMonth.year }}</span>
        <button (click)="nextMonth()" class="btn btn-light">
          <i class="bi bi-arrow-right"></i>
        </button>
      </div>

      <div class="calendar-month">
        <table class="table table-bordered text-center">
          <thead class="table-light">
            <tr>
              @for (dayName of dayNames; track dayName)
              {
                <th>
                  {{dayName}}
                </th>
              }
              
            </tr>
          </thead>
          <tbody>
            @for (week of calendarMonth.weeks; track week)
            {
              <tr>
                @for (day of week; track day)
                {
                  <td class="td-calendar">
                      <div class="calendar-day" [ngClass]="{
                        today:
                          day === today &&
                          calendarMonth.month === currentMonth &&
                          calendarMonth.year === currentYear
                      }"
                      (click)="navigateToEvent(day)">
                      <span>{{ day ? day : '' }}</span>
                      @if (day && calendarEvents[day])
                      {
                        <div class="event-dots">
                          @for (event of calendarEvents[day]; track events) 
                          {
                            <span class="event-dot" [title]="events">

                            </span>
                          }
                        </div>
                      }
                      </div>
                  </td>
                }
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  </div>
</main>

